<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Aufgabe 5.2</title>
    <script>
        window.onload = function () {

            // ---- Speaker list -----
            const speakerInput = document.getElementById("speakerinput");
            const addSpeakerBtn = document.getElementById('addspeakerbutton');
            const speakerList = document.getElementById('speakerlist');

            addSpeakerBtn.onclick = function () {
                const inputValue = speakerInput.value;
                let listItem = document.createElement('li');
                speakerList.appendChild(listItem);
                listItem.innerHTML = `${inputValue} <time>00:00:00</time> <button>Stop</button>`;

                let seconds = 0, minutes = 0, hours = 0;
                let timerID = setInterval(addSecond, 1000);

                function addSecond() {
                    console.log("Executing..");
                    seconds++;
                    if (seconds >= 60) {
                        seconds = 0;
                        minutes++;
                        if (minutes >= 60) {
                            minutes = 0;
                            hours++;
                            if (hours >= 24) {
                                seconds = 0;
                                minutes = 0;
                                hours = 0;
                            }
                        }
                    }

                    let formattedTime = (hours ? (hours > 9 ? hours : "0" + hours) : "00") + ":"
                        + (minutes ? (minutes > 9 ? minutes : "0" + minutes) : "00") + ":"
                        + (seconds > 9 ? seconds : "0" + seconds);
                    listItem.querySelector('time').innerText = formattedTime;

                }


                const btn = listItem.querySelector('button');
                btn.onclick = function () {
                    if (btn.innerText === 'Stop') {
                        clearInterval(timerID);
                        console.log('Stopped time.');
                        listItem.querySelector('button').innerText = 'Start';
                        return;
                    }
                    if (btn.innerText === 'Start') {
                        timerID = setInterval(addSecond, 1000);
                        console.log('Resumed time.');
                        listItem.querySelector('button').innerText = 'Stop';
                    }

                };
                speakerInput.value = '';
                speakerInput.focus();
            };

            speakerInput.onkeydown = function (event) {
                if (event.key === 'Enter') addSpeakerBtn.click();
            };

        }
    </script>
</head>
<body>
<h2>List of speakers</h2>
<label for="speakerinput">Enter a new speaker</label>
<input type="text" id="speakerinput">
<button id="addspeakerbutton">Add</button>
<ul id="speakerlist"></ul>
</body>
</html>
